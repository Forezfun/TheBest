<app-navigation-panel></app-navigation-panel>
<span class="accountTemplate">
    <span class="switcherSpan">
        <button (click)="changeTemplate('accountTemplate')" class="switcher accountInformationBtn block">
            Аккаунт
        </button>
        <button (click)="changeTemplate('projectsTemplate')" class="switcher accountProjectsBtn block">
            Проекты
        </button>
    </span>
    <ng-container *ngTemplateOutlet="currentSwitcherTemplate"></ng-container>
</span>
<ng-template #accountTemplate>
    <span class="accountCardTemplate slideAppearAnimation mainTemplate block">
        <h2 class="accountInformationTitle">Мои данные</h2>
        <ng-container *ngTemplateOutlet="currentInformationTemplate"></ng-container>
    </span>
</ng-template>
<ng-template #projectsTemplate>
    <span class="projectTemplate slideAppearAnimation mainTemplate block">
        <h2 class="accountInformationTitle">Мои проекты</h2>
        <span class="accountsProjects">
            <a [href]="'/create/'+userInformation.publications[indexProject].idPublication" class="accountProject" *ngFor="let project of userInformation.publications; let indexProject = index">
                <h2 class="userProjectTitle">{{indexProject + 1}}. {{project.namePublication}}</h2>
                <img src="/assets/images/editIcon.svg" alt="" class="functionalIcon">
            </a>
        </span>
    </span>
</ng-template>
<ng-template #baseInformationTemplate>
    <span class="informationTemplate">
        <span class="accountData">
            <div class="propertyBlock">
                <h2 class="informationTitle">Nickname:</h2>
                <h3 class="informationArea">{{userInformation?.nickname}}</h3>
            </div>
            <div class="propertyBlock">
                <h2 class="informationTitle">Email:</h2>
                <h3 class="informationArea">{{userInformation?.email}}</h3>
            </div>
            <div class="propertyBlock">
                <h2 class="informationTitle">Password:</h2>
                <h3 class="informationArea">{{userInformation?.password}}</h3>
            </div>
        </span>
        <img src="/assets/images/editIcon.svg" (click)="changeTemplate('changeInformation')" alt="" class="functionalIcon">
    </span>
</ng-template>

<ng-template #changeAccountInformation>
    <form [formGroup]="changeInformationForm" class="informationTemplate">
        <span class="accountData">
            <div class="propertyBlock">
                <label for="nicknameInput" class="informationTitle">Nickname:</label>
                <input id="nicknameInput" formControlName="nickname" placeholder="nickname"
                    class="accountPasswordInput Input">
            </div>
            <div class="propertyBlock">
                <label for="emailInput" class="informationTitle">Email:</label>
                <input id="emailInput" formControlName="email" placeholder="email"
                    class="accountPasswordInput Input">
            </div>
            <div class="propertyBlock">
                <label for="passwordInput" class="informationTitle">Password:</label>
                <input id="passwordInput"  formControlName="password" placeholder="password"
                    class="accountPasswordInput Input">
            </div>
        </span>
        <span class="functionalsBtns">
            <img src="/assets/images/acceptIcon.png" alt="" (click)="confirmChanges()" class="functionalIcon"
                type="submit">
            <img src="/assets/images/cancelIcon.svg" alt="" class="functionalIcon" (click)="acceptInformation()">
        </span>
    </form>
</ng-template>